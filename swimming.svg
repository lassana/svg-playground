<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg id="svg2" 
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
     xmlns="http://www.w3.org/2000/svg" 
     height="540.81pt" 
     width="320.09pt" 
     version="1.1" 
     xmlns:cc="http://creativecommons.org/ns#" 
     xmlns:dc="http://purl.org/dc/elements/1.1/">
    <g id="path4421"
       >
        <path id="path4138" 
              d="M 0,234.85628 0,49.437012 C 0,29.658958 21.190773,11.99998 54.036471,11.99998 116.54925,11.99998 141.625,26.127162 141.625,53.675167 L 141.625,234.85628 C 127.16358,248.48715 107.84908,239.5473 94.795598,224.21674 83.438367,216.79997 62.324852,218.00299 52.435824,225.06658 44.689394,231.61041 0.01894455,244.95536 0,234.85628 Z" 
              fill-rule="evenodd" 
              fill="#8926ac"/>
        <ellipse id="path4140" 
                 rx="6.5590487" 
                 ry="10.343116" 
                 cy="71.645126" 
                 cx="27.768766" 
                 fill="#fff"/>
        <ellipse id="path4140-0" 
                 rx="6.5590487" 
                 ry="10.343116" 
                 cy="71.645142" 
                 cx="62.582176"
                 fill="#fff"/>
        <path id="path4157"
              d="M 57.26093,95.567457 C 51.045913,97.82456 44.565001,100.82627 40.621546,96.722043" 
              stroke="#fff" 
              stroke-width="2.2609756" 
              fill="none"/>
        <g fill="#f12cff">
            <circle id="path4161" cy="194.53435" cx="20.41967" r="6.666441"/>
            <ellipse id="path4163" rx="4.5762777" ry="4.3968158" cy="178.16408" cx="41.653717"/>
            <circle id="path4165" cy="161.44449" cx="32.054749" r="2.0155432"/>
        </g>
    </g>
    <script id="script4008"><![CDATA[
        var intervalRef
        var swimmingPath
        var aGroup
        var width
        var height
        var step = 0
        
        document.addEventListener("DOMContentLoaded", function(event) {
            swimmingPath = document.getElementById("path4138")
            aGroup = document.getElementById("path4421")
            width = document.getElementById("svg2").getBBox().width
            height = document.getElementById("svg2").getBBox().height
            
            document.getElementById("svg2").addEventListener("click", function () {
                if (intervalRef) {
                    window.clearInterval(intervalRef)
                    intervalRef = null
                } else {
                    letsSwim()
                }
            })
        })
        
        function letsSwim() {
            intervalRef = setInterval(function () {
                var aPath = buildWavePath(step)
                swimmingPath.setAttribute("d", aPath)
                aGroup.setAttribute("transform", "translate(0," + (getDelta(step)/2) + ")")
                step += 1
            }, 16) // 33 ms allows get ~30 FPS
        }
        
        function getDelta(index) {
            var max = 18
            var p = index % (max*2)
            var rvalue
            if (p>max) {
                rvalue = max-(p%max)
            } else {
                rvalue = p
            }
            rvalue /= 2
            return rvalue-(max/3)
        }
        
        function buildWavePath(index) {
            //#0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17
            // 0  1  2  3  4  5  6  7  8  9  8  7  6  5  4  3  2  1
            var delta = getDelta(index)
            console.log('delta for ' + index + ' is ' + delta)
            var path = ""
                      
            //, , , , , , , 0.01894455, 0, Z
            path += " M 0,234.85628"
            path += " L 0,49.437012"
            path += " C 0,29.658958 21.190773,11.99998 54.036471,11.99998"
            path += " C 116.54925,11.99998 141.625,26.127162 141.625,53.675167 "
            
            path += " L 141.625,234.85628"
          
            path += " C 127.16358," + (248.48715+delta*3/8) + " 107.84908," + (239.5473+delta/4) + " 94.795598," + (224.21674+delta/4)
            
            path += " C " + (83.438367-delta/8) + "," + (216.79997-delta/8) + " " + (62.324852-delta/8) + "," + (218.00299-delta/8) + " 52.435824," + (225.06658-delta/8)
            path += " C 44.689394,231.61041   0,244.95536   0," + (234.85628+delta/2)
            
            path += " Z"
            
            return path
        }
    ]]></script>
</svg>
